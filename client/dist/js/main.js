!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}({"./client/src/js/bulkTools.js":function(e,t,n){(function(e){window.bulkTools={gridfieldRefresh:function(e,t){t.isError||(t.isDestructive?this.removeGridFieldRows(e,t.records.success):this.updateGridFieldRows(e,t.records.success),this.failedGridFieldRows(e,t.records.failed))},getGridFieldRow:function(e,t){return e.find('.ss-gridfield-item[data-id="'+t.id+'"][data-class="'+t.class+'"]')},cleanGridFieldRow:function(e){return e.removeClass("bt-deleted bt-failed bt-updated").removeAttr("bt-error")},removeGridFieldRows:function(e,t){t.forEach(function(t){this.getGridFieldRow(e,t).addClass("bt-deleted").fadeOut(2e3)},this),e.entwine(".").entwine("ss").delay(2e3).reload()},failedGridFieldRows:function(e,t){t.forEach(function(t){this.getGridFieldRow(e,t).addClass("bt-failed").attr("bt-error",t.message)},this)},updateGridFieldRows:function(t,n){t.find(".ss-gridfield-item.ss-gridfield-no-items").remove(),n.forEach(function(n){var i=this.getGridFieldRow(t,n),s=e(n.row).addClass("bt-updated");1===i.length?i.replaceWith(s):t.find(".ss-gridfield-items").prepend(s)},this)}}}).call(t,n("jquery"))},"./client/src/js/manager.js":function(e,t,n){(function(e){!function(e){e.entwine("ss",function(e){e.entwine("colymba",function(e){e(".bulkManagerOptions").entwine({onmatch:function(){var t=this.parents("thead"),n=t.find("tr"),i=[".filter-header",".sortable-header"],s=t.find(i.join(",")),o=n.index(this),a=n.length-1;s.each(function(e,t){var i=n.index(t);i<a&&(a=i)}),o>a&&n.eq(a).insertAfter(e(this))},onunmatch:function(){}}),e("td.col-bulkSelect").entwine({onmatch:function(){},onunmatch:function(){},onmouseover:function(){e(this).parents(".ss-gridfield-item").find(".edit-link").removeClass("edit-link").addClass("tempDisabledEditLink")},onmouseout:function(){e(this).parents(".ss-gridfield-item").find(".tempDisabledEditLink").addClass("edit-link").removeClass("tempDisabledEditLink")},onclick:function(t){var n=e(t.target).find("input");e(n).prop("checked")?e(n).prop("checked",!1):e(n).prop("checked",!0)}}),e("td.col-bulkSelect input").entwine({onmatch:function(){},onunmatch:function(){},onclick:function(t){e(this).parents(".grid-field__table").find("input.bulkSelectAll").prop("checked","")}}),e("input.bulkSelectAll").entwine({onmatch:function(){},onunmatch:function(){},onclick:function(){var t=e(this).prop("checked");e(this).parents(".grid-field__table").find("td.col-bulkSelect input").prop("checked",t).trigger("change")},getSelectRecordsID:function(){return e(this).parents(".grid-field__table").find("td.col-bulkSelect input:checked").map(function(){return parseInt(e(this).data("record"))}).get()}}),e("select.bulkActionName").entwine({onmatch:function(){},onunmatch:function(){},onchange:function(t){var n=e(this).val(),i=e(this).parents(".bulkManagerOptions"),s=i.find(".doBulkActionButton"),o=s.data("config");if(e.each(o,function(e,t){e!=n&&s.removeClass(t.buttonClasses)}),!n)return void s.addClass("disabled");if(s.removeClass("disabled"),s.addClass(o[n].buttonClasses).addClass("btn-outline-secondary"),o[n].icon){var a=s.find("img");a.length?a.attr("src",o[n].icon):s.prepend('<img src="'+o[n].icon+'" alt="" />')}else s.find("img").remove();o[n].destructive?s.addClass("btn-outline-danger"):s.removeClass("btn-outline-danger")}}),e(".doBulkActionButton").entwine({onmatch:function(){},onunmatch:function(){},getActionURL:function(e,t){var n=(new Date).getTime();return t=t.split("?"),e=e?"/"+e:"",t=t[1]?t[0]+e+"?"+t[1]+"&cacheBuster="+n:t[0]+e+"?cacheBuster="+n},onclick:function(t){var n=e(this).parents(".bulkManagerOptions"),i=n.find("select.bulkActionName").val(),s=e(this).parents(".bulkManagerOptions").find("input.bulkSelectAll:first").getSelectRecordsID();this.doBulkAction(i,s)},doBulkAction:function(t,n){var i=e(this).parents(".bulkManagerOptions"),s=i.find("a.doBulkActionButton"),o=i.find(".message"),a=s.data("config"),r=this.getActionURL(t,e(this).data("url")),d={records:n};return n.length<=0?void alert(ss.i18n._t("GRIDFIELD_BULK_MANAGER.BULKACTION_EMPTY_SELECT")):!(a[t].destructive&&!confirm(ss.i18n._t("GRIDFIELD_BULK_MANAGER.CONFIRM_DESTRUCTIVE_ACTION")))&&(s.addClass("loading"),o.removeClass("static show error warning"),a[t].xhr?e.ajax({url:r,data:d,type:"POST",context:e(this)}).always(function(t,n,i){s.removeClass("loading"),t.responseText&&(t=JSON.parse(t.responseText)),o.html(t.message),t.isError?o.addClass("static error"):t.isWarning?o.addClass("show warning"):o.addClass("show"),bulkTools.gridfieldRefresh(e(this).parents(".ss-gridfield"),t)}):(r=r+"&records[]="+n.join("&records[]="),window.location.href=r),void 0)}})})})}(e)}).call(t,n("jquery"))},"./client/src/js/managerBulkEditingForm.js":function(e,t,n){(function(e){!function(e){e.entwine("colymba",function(e){e("#bulkEditToggle").entwine({onmatch:function(){},onunmatch:function(){},onclick:function(t){var n=this.parents("form").find(".ss-toggle .ui-accordion-header"),i=this.data("state");i=i&&"close"!==i?"close":"open",n.each(function(){var t=e(this);"open"!==i||t.hasClass("ui-state-active")||t.click(),"close"===i&&t.hasClass("ui-state-active")&&t.click()}),this.data("state",i)}}),e(".bulkEditingFieldHolder").entwine({onmatch:function(){},onunmatch:function(){},onchange:function(){this.removeClass("updated"),this.hasClass("hasUpdate")||this.addClass("hasUpdate")}})})}(e)}).call(t,n("jquery"))},"./client/src/js/uploader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n("lib/Injector"),i=function(t){var n=e("#"+t.fieldId),i=n.parents(".ss-gridfield"),s=n.data("schema");e.ajax(s.data.attachFileEndpoint.url,{method:s.data.attachFileEndpoint.method,data:{fileID:t.file.id}}).done(function(e,t,n){bulkTools.gridfieldRefresh(i,e)})},s=function(t){var n=e("#"+t.fieldId).parents(".ss-gridfield");bulkTools.gridfieldRefresh(n,t.json.bulkTools)},o=function(e){return function(t){return function(t,n){var o=n.type,a=n.payload;switch(o){case"UPLOADFIELD_ADD_FILE":return-1!==a.fieldId.indexOf("_BU")&&a.file.id&&i(a),e(t,{type:o,payload:a});case"UPLOADFIELD_UPLOAD_SUCCESS":return-1!==a.fieldId.indexOf("_BU")&&s(a),e(t,{type:o,payload:a});default:return e(t,{type:o,payload:a})}}}};n.n(t).a.transform("bulkUploaderTransformation",function(e){e.reducer("assetAdmin",o)})}.call(t,n("jquery"))},0:function(e,t,n){n("./client/src/js/bulkTools.js"),n("./client/src/js/manager.js"),n("./client/src/js/managerBulkEditingForm.js"),e.exports=n("./client/src/js/uploader.js")},jquery:function(e,t){e.exports=jQuery},"lib/Injector":function(e,t){e.exports=Injector}});